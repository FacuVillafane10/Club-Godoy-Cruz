console.log("🎯 Script multigrupo cargado y listo");const grupos=["arqueros","defensores","mediocampo","delanteros"];grupos.forEach(grupo=>{const contenedor=document.querySelector(`.${grupo}`);if(!contenedor)return;const esperarSlick=setInterval(()=>{const slider=contenedor.querySelector('.slick-slider');const estaListo=slider&&slider.classList.contains('slick-initialized');if(!estaListo){console.log(`⏳ Esperando a que slick se cargue en grupo: ${grupo}...`);return}
clearInterval(esperarSlick);console.log(`✅ Slick listo para grupo: ${grupo}`);const slickInstance=jQuery(slider);const slides=contenedor.querySelectorAll(`.slick-slide[data-post-id]`);const miniaturas=contenedor.querySelectorAll(`.jet-listing-grid__item[data-post-id]`);miniaturas.forEach(mini=>{mini.addEventListener('click',()=>{const postId=mini.getAttribute('data-post-id');let index=-1;slides.forEach((slide,i)=>{if(slide.getAttribute('data-post-id')===postId)index=i});if(index>=0){console.log(`➡️ Moviendo grupo ${grupo} al índice: ${index} (postId: ${postId})`);slickInstance.slick('slickGoTo',index);miniaturas.forEach(el=>el.classList.remove('activo'));document.querySelectorAll(`.${grupo} .jet-listing-grid__item[data-post-id="${postId}"]`).forEach(el=>{if(el.offsetParent!==null)el.classList.add('activo');})}})});slickInstance.on('afterChange',function(event,slick,currentIndex){const currentSlide=slick.$slides.get(currentIndex);const postId=currentSlide?.getAttribute('data-post-id');if(!postId)return;miniaturas.forEach(el=>el.classList.remove('activo'));document.querySelectorAll(`.${grupo} .jet-listing-grid__item[data-post-id="${postId}"]`).forEach(el=>{if(el.offsetParent!==null)el.classList.add('activo');})})},300)});(function($){function moverSlideAlPostId(postId){$('.slider-jugador-info').each(function(){const $grupo=$(this);const $slider=$grupo.find('.slick-slider.slick-initialized');if($slider.length===0){console.warn(`⏳ Esperando que se inicialice slider real para post ID ${postId}`);setTimeout(()=>moverSlideAlPostId(postId),300);return}
const $slides=$slider.find('.jet-listing-grid__item:not(.slick-cloned)');const $destino=$slides.filter(`[data-post-id="${postId}"]`);const index=$slides.index($destino);if(index>=0){console.log(`✅ Moviendo al índice ${index} para post ID ${postId}`);$slider.slick('slickGoTo',index)}else{console.warn(`❌ No se encontró el índice para el post ID ${postId} en este slider`)}})}
function asignarClickMiniaturas(){$('.jet-listing-grid__item[data-post-id]').css({'pointer-events':'auto','cursor':'pointer'}).off('click').on('click',function(){const $clicked=$(this);const postId=$clicked.data('post-id');const $grupo=$clicked.closest('.arqueros, .defensores, .mediocampo, .delanteros');$grupo.find('.jet-listing-grid__item').removeClass('is-active');$clicked.addClass('is-active');moverSlideAlPostId(postId)})}
$(document).ready(asignarClickMiniaturas);$(document).on('jet-engine/listing-grid/rendered',()=>setTimeout(asignarClickMiniaturas,300))})(jQuery);jQuery(document).ready(function($){var $slider=$('.slider-vertical .jet-listing-grid__items');$slider.slick({vertical:!0,slidesToShow:2,slidesToScroll:1,arrows:!1,dots:!1,infinite:!0,autoplay:!1,autoplaySpeed:2500,pauseOnHover:!0,adaptiveHeight:!0,pauseOnFocus:!0});var autoplayInterval=setInterval(function(){$slider.slick('slickPrev')},2500);$slider.on('mouseenter focusin',function(){clearInterval(autoplayInterval)});$slider.on('mouseleave focusout',function(){autoplayInterval=setInterval(function(){$slider.slick('slickPrev')},2500)});$slider.on('wheel',function(e){e.preventDefault();if(e.originalEvent.deltaY>0){$(this).slick('slickNext')}else{$(this).slick('slickPrev')}})})